document.addEventListener("DOMContentLoaded",()=>{const trailSettings={color:"rgba(255, 255, 255, 0.85)",thickness:1,maxSegments:40,minDistance:3,fadeFactor:.95,inactivityTimeout:5e3};let segments=[],lastX=null,lastY=null,isFirstMove=!0,inactivityTimer=null;function startFadeOutSequence(){segments.length>0&&(segments.forEach((t,e)=>{setTimeout(()=>{t.style.opacity="0"},50*e)}),setTimeout(()=>{segments.forEach(t=>t.remove()),segments.length=0},50*segments.length+300))}function resetInactivityTimer(){inactivityTimer&&clearTimeout(inactivityTimer),inactivityTimer=setTimeout(startFadeOutSequence,trailSettings.inactivityTimeout)}function createSegment(t,e,i,s){const n=document.createElement("div");n.classList.add("trail-segment");const a=Math.sqrt(Math.pow(i-t,2)+Math.pow(s-e,2)),l=180*Math.atan2(s-e,i-t)/Math.PI;if(n.style.width=`${a}px`,n.style.height=`${trailSettings.thickness}px`,n.style.left=`${t}px`,n.style.top=`${e}px`,n.style.transform=`rotate(${l}deg)`,n.style.transformOrigin="0 0",n.style.backgroundColor=trailSettings.color,n.style.position="fixed",n.style.pointerEvents="none",n.style.zIndex="9998",n.style.borderRadius="0px",n.style.opacity="1",n.style.transition="opacity 0.3s",document.body.appendChild(n),segments.push(n),segments.length>trailSettings.maxSegments){const t=segments.shift();t.style.opacity="0",setTimeout(()=>{t.remove()},300)}updateSegmentsOpacity()}function updateSegmentsOpacity(){segments.forEach((t,e)=>{t.style.opacity=(e+1)/segments.length})}document.addEventListener("mousemove",t=>{if(resetInactivityTimer(),isFirstMove)return lastX=t.clientX,lastY=t.clientY,void(isFirstMove=!1);if(null===lastX||null===lastY)return lastX=t.clientX,void(lastY=t.clientY);const e=t.clientX-lastX,i=t.clientY-lastY,s=Math.sqrt(e*e+i*i);s>trailSettings.minDistance&&(createSegment(lastX,lastY,t.clientX,t.clientY),lastX=t.clientX,lastY=t.clientY)}),resetInactivityTimer()}); 